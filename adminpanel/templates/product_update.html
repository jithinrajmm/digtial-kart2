{% extends "base/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block css %}
<style>
    
input[type='file'] {
  color: rgba(0, 0, 0, 0);

}
input[type=file]::file-selector-button {
  border: 2px solid #e7e55c;
  padding: .2em .4em;
  border-radius: .2em;
  background-color: rgb(209,161,14);
  transition: 1s;
}
.hide{
  display: none;
}
  .product_name{
    color: black;
    font-weight: bolder;
    font-size: 15px;
    position: absolute;
 
  }
  .asteriskField {
    display: none;
}
label{
    color: white;
}
</style>
  
{% endblock css %}
{% block adminbase %}
  
{% include "base/sidebar.html" %}

<main class="main-content position-relative  h-100 border-radius-lg " style="height: 50%;">
    {% include "base/nav.html" %}
    {% block pagename %}
    <b>PRODUCT UPDATE</b> 
  {% endblock pagename %}
        <div class="row justify-content-center" style="height: 100vh;">
            <div class="col-md-5   m-5 bg-dark p-5" style="border-radius:15px;">
                <form  enctype="multipart/form-data" method="POST" action=".">
                          {% csrf_token %}
                            <div class="form-row m-0">
                              <div class="form-group col-md-6 m-0">
                                {{product_form.product_name|as_crispy_field}}
                              </div>
                              <div class="form-group col-md-6 m-0">
                                {{product_form.category|as_crispy_field}}
                              </div>
                            </div>
                            <div class="form-row m-0">
                              <div class="form-group col-md-6 m-0">
                                {{product_form.price|as_crispy_field}}
                              </div>
                              <div class="form-group col-md-6 m-0">
                                {{product_form.stock|as_crispy_field}}
                              </div>
                            </div>
                            <div class="form-row m-0">
                              <div class="form-group col-md-6 m-0">
                                {{product_form.slug|as_crispy_field}}
                              </div>
                           
                            </div>
                  
                            <div class="form-row m-0">
                              <div class="form-group col-md-12">
                                {{product_form.description|as_crispy_field}}
                              </div>
                            </div>
                  
                            <div class="form-row m-0">
                              <div class="form-group col-md-3 m-0">
                                <img class="" id= 'img1' src="{{product.image_1.url}}" style="width: 100px; height: 100px; " >
                                {{product_form.image_1|as_crispy_field}}
                              </div>
                              <div class="form-group col-md-3 m-0">
                                <img class=""  id= 'img2' src="{{product.image_2.url}}" style="width: 100px; height: 100px;">
                                {{product_form.image_2|as_crispy_field}}
                              </div>
                              <div class="form-group col-md-3 m-0">
                                <img class="" id='img3' src="{{product.image_3.url}}" style="width: 100px; height: 100px;">
                                {{product_form.image_3|as_crispy_field}}
                              </div>
                              <div class="form-group col-md-3 m-0">
                                <img class="" id='img4' src="{{product.image_4.url}}" style="width: 100px; height: 100px;">
                                {{product_form.image_4|as_crispy_field}}
                              </div>
                            </div>
                            
                            <div class="row justify-content-center mt-2">
                                <button type="submit" class="w-50 btn btn-warning p-2 text-center" >ADD PRODUCT</button>
                            </div>
                </form>
            </div>
        </div>

  </main>
  {% include "base/footer.html" %}
  
<!-- this is the script for user management -->
  {% block scripts %}
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>

  <script>



// automatic creating slug fields
$('#id_product_name').keypress(function() {
    var dInput = this.value;
    $('#id_slug').val(dInput)
});

$('#id_image_1').change( function(event) {
    var tmppath = URL.createObjectURL(event.target.files[0]);
    $('#img1').removeClass('hide')
    $("#img1").fadeIn("fast").attr('src',URL.createObjectURL(event.target.files[0]));
    
    $("#disp_tmp_path").html("Temporary Path(Copy it and try pasting it in browser address bar) --> <strong>["+tmppath+"]</strong>");
});

// this is for the image 2
$('#id_image_2').change( function(event) {
    var tmppath = URL.createObjectURL(event.target.files[0]);
    $('#img2').removeClass('hide')
    $("#img2").fadeIn("fast").attr('src',URL.createObjectURL(event.target.files[0]));
    
    $("#disp_tmp_path").html("Temporary Path(Copy it and try pasting it in browser address bar) --> <strong>["+tmppath+"]</strong>");
});


// this is for the image 3 
$('#id_image_3').change( function(event) {
    var tmppath = URL.createObjectURL(event.target.files[0]);
    $('#img3').removeClass('hide')
    $("#img3").fadeIn("fast").attr('src',URL.createObjectURL(event.target.files[0]));
    
    $("#disp_tmp_path").html("Temporary Path(Copy it and try pasting it in browser address bar) --> <strong>["+tmppath+"]</strong>");
});


// this is for the image 4
$('#id_image_4').change( function(event) {
    var tmppath = URL.createObjectURL(event.target.files[0]);
    $('#img4').removeClass('hide')
    $("#img4").fadeIn("fast").attr('src',URL.createObjectURL(event.target.files[0]));
    
    $("#disp_tmp_path").html("Temporary Path(Copy it and try pasting it in browser address bar) --> <strong>["+tmppath+"]</strong>");
});

  </script>
  
  {% endblock scripts %}




  {% endblock adminbase %}